{"version":3,"sources":["node_modules/browser-pack/_prelude.js","browser.js","node_modules/browserify/lib/_empty.js","node_modules/json-less/index.js","node_modules/json-less/src/JSONLess.js","node_modules/path-browserify/index.js","node_modules/process/browser.js","node_modules/utls/index.js","node_modules/utls/src/utls.js","src/JsonRpc.js","src/JsonRpcError.js","src/JsonRpcNotification.js","src/JsonRpcRequest.js","src/JsonRpcResponse.js"],"names":[],"mappings":"AAAA;;;;GCGA,aACA,IAAI,QAAU,QAAQ,kBAAR,CAAV,CACJ,OAAO,OAAP,CAAiB,OAAjB,CAAyB,QAAQ,GAAR,CAAY,KAAZ;;;;;ACLzB;;ACAA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;GCxWA,6pBACA,IAAI,KAAO,QAAQ,MAAR,CAAP,CACJ,IAAI,SAAW,QAAQ,WAAR,CAAX,CACJ,IAAI,UAAY,OAAZ,CACJ,IAAI,KAAO,CAAP,CACJ,IAAI,YAAc,EAAd,CACJ,IAAI,mBAAqB,KAArB,CACJ,IAAI,UAAY,CAAC,kBAAoB,IAApB,CAAb;;;OAKE;;IAIL,SAJK,OAIL,CAAY,OAAZ,CAAqB,sBAJhB,SAIgB,GAChB,KAAK,WAAL,GAAqB,OAArB,CAA8B,CACjC,MAAM,IAAI,SAAJ,CAAc,2DAAd,CAAN,CADiC,CAAlC,GAGI,QAAQ,QAAR,GAAqB,SAArB,CAAgC,CACnC,IAAI,SAAW,QAAQ,QAAR,CADoB,OAE5B,QAAQ,QAAR,CAF4B,CAApC,IAIA,CAAK,OAAL,CAAe,OAAf,CARoB,GAShB,QAAJ,CAAc,CACb,KAAK,WAAL,CAAiB,QAAjB,EADa,CAAd,GAGI,KAAK,WAAL,GAAqB,QAArB,CAA+B,CAClC,GAAI,UAAU,iBAAV,CAA6B,CAChC,GAAI,YAAY,KAAK,KAAL,EAAZ,IAA8B,SAA9B,CAAyC,CAC5C,QAAQ,YAAR,CAAqB,IAArB,EAD4C,CAA7C,CADD,CADD,CAZD;;;iBAJK;;;+BA2NQ,CACZ,OAAO,KAAK,OAAL,CAAa,OAAb,CADK;;;kDAQF,QAAS,CACnB,KAAK,OAAL,CAAa,OAAb,CAAuB,OAAvB,CADmB,OAEZ,IAAP,CAFmB;;;yCASZ,CACP,OAAO,KAAK,OAAL,CAAa,EAAb,CADA;;;;wCASF,GAAI,CACT,KAAK,OAAL,CAAa,EAAb,CAAkB,SAAS,EAAT,CAAa,EAAb,CAAlB,CADS,OAEF,IAAP,CAFS;;;qDASI,CACb,OAAO,KAAK,OAAL,CAAa,QAAb,CADM;;;;oDASF,SAAU,CACrB,KAAK,OAAL,CAAa,QAAb,CAAwB,QAAxB,CADqB,OAEd,IAAP,CAFqB;;;iDASV,CACX,OAAO,KAAK,OAAL,CAAa,MAAb,CADI;;;;gDASF,OAAQ,CACjB,KAAK,OAAL,CAAa,MAAb,CAAsB,MAAtB,CADiB,OAEV,IAAP,CAFiB;;;qDASJ,CACb,OAAO,YAAY,KAAK,OAAL,CAAa,EAAb,CAAZ,CAA+B,YAAY,KAAK,OAAL,CAAa,EAAb,CAAZ,CAA6B,EAA7B,CAAkC,SAAjE,CADM;;;;;oDAUF,SAAU,IAAK,CAC1B,IAAM,KAAO,kBAAP,CADoB,IAEtB,KAAO,IAAP,CAFsB,IAGtB,QAAU,WAAW,UAAM,CAC9B,QAAQ,cAAR,CAAuB,KAAK,OAAL,CAAa,EAAb,CAAvB,CAD8B,CAAN,CAEtB,GAFW,CAAV,CAHsB,WAM1B,CAAY,KAAK,OAAL,CAAa,EAAb,CAAZ,CAA+B,CAC9B,GAAK,QAAL,CACA,QAAU,OAAV,CAFD;AAN0B,OAWnB,IAAP,CAX0B;;;iDAkBf,CACX,OAAO,KAAK,OAAL,CAAa,MAAb,CADI;;;;gDASF,OAAQ,CACjB,KAAK,OAAL,CAAa,MAAb,CAAsB,MAAtB,CADiB,OAEV,IAAP,CAFiB;;;iDASN,CACX,OAAO,KAAK,OAAL,CAAa,MAAb,CADI;;;;gDASF,OAAQ,CACjB,KAAK,OAAL,CAAa,MAAb,CAAsB,MAAtB,CADiB,OAEV,IAAP,CAFiB;;;+CASP,CACV,OAAO,KAAK,OAAL,CAAa,KAAb,CADG;;;;8CASF,MAAO,CACf,GAAI,EAAE,iBAAiB,YAAjB,CAAF,CAAkC,CACrC,MAAQ,IAAI,YAAJ,CAAiB,KAAjB,CAAR,CADqC,CAAtC,IAGA,CAAK,OAAL,CAAa,KAAb,CAAqB,KAArB,CAJe,OAKR,IAAP,CALe;;;2CAYP,CACR,OAAO,KAAK,OAAL,CADC;;;+CAQE,CACV,OAAO,SAAS,SAAT,CAAmB,KAAK,MAAL,EAAnB,CAAP,CADU;;;sBA5LK,CACf,OAAO,gBAAgB,OAAhB,CADQ;;;0CAQC,CAChB,OAAO,gBAAgB,QAAhB,CADS;;;8CAQI,CACpB,OAAO,gBAAgB,YAAhB,CADa,iDAtLH,QAAS,CAC1B,UAAY,KAAK,MAAL,CAAY,SAAZ,CAAuB,OAAvB,CAAZ,CAD0B;;;mDAQP,CACnB,OAAO,SAAP,CADmB;;;;;4CAUL,QAAS,CACvB,GAAI,EAAE,mBAAmB,MAAnB,CAAF,CAA8B,CACjC,MAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN,CADiC,CAAlC,OAGQ,IAAR,EACC,KAAK,QAAQ,cAAR,CAAuB,OAAvB,CAAL,CACC,OAAO,SAAP,CADD,KAEK,QAAQ,eAAR,CAAwB,OAAxB,CAAL,CACC,OAAO,UAAP,CADD,KAEK,QAAQ,mBAAR,CAA4B,OAA5B,CAAL,CACC,OAAO,cAAP,CADD,QAGC,MADD,CAXsB;;;;;wCAsBX,QAAS,CACrB,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,GAAI,CACH,QAAU,SAAS,KAAT,CAAe,OAAf,CAAV,CADG,CAAJ,MAES,CAAP,CAAU,CACX,MAAM,IAAI,KAAJ,CAAU,aAAa,OAAb,CAAqB,OAArB,CAA8B,aAAa,OAAb,CAAqB,IAArB,CAA9C,CADW,CAAV,CAHH,KAMO,CACN,MAAM,IAAI,KAAJ,CAAU,uCAAV,CAAN,CADM,CANP,CADD,OAWQ,QAAQ,OAAR,CAAgB,OAAhB,CAAR,EACC,KAAK,SAAL,CACC,OAAO,IAAI,OAAJ,CAAY,OAAZ,CAAP,CADD,KAEK,UAAL,CACC,OAAO,IAAI,QAAJ,CAAa,OAAb,CAAP,CADD,KAEK,cAAL,CACC,OAAO,IAAI,YAAJ,CAAiB,OAAjB,CAAP,CADD,QAGC,MAAM,IAAI,KAAJ,CAAU,sBAAV,CAAN,CADD,CAnBoB;;;;0DA6BA,QAAS,CAC9B,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,OAAO,KAAP,CADuC,CAAxC,GAGI,QAAQ,KAAR,GAAkB,SAAlB,EAA+B,QAAQ,MAAR,GAAmB,SAAnB,CAA8B,CAChE,OAAO,KAAP,CADgE,CAAjE,OAGO,QAAQ,OAAR,GAAoB,SAApB,EAAiC,KAAK,OAAL,CAAa,QAAQ,EAAR,CAAb,GAA6B,SAA7B,EAA0C,QAAQ,EAAR,CAAa,CAAb,EAAkB,KAAK,OAAL,CAAa,QAAQ,QAAR,CAAb,GAAmC,QAAnC,EAA+C,QAAQ,QAAR,CAAiB,MAAjB,EAA2B,KAAK,OAAL,CAAa,QAAQ,MAAR,CAAb,GAAiC,QAAjC,EAA6C,QAAQ,MAAR,CAAe,MAAf,EAAyB,KAAK,OAAL,CAAa,QAAQ,MAAR,CAAb,GAAiC,QAAjC,CAPtN;;;;4DAeR,QAAS,CAC/B,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,OAAO,KAAP,CADuC,CAAxC,GAGI,QAAQ,MAAR,GAAmB,SAAnB,EAAgC,QAAQ,QAAR,GAAqB,SAArB,EAAkC,QAAQ,MAAR,GAAmB,SAAnB,CAA8B,CACnG,OAAO,KAAP,CADmG,CAApG,GAGI,QAAQ,EAAR,GAAe,SAAf,CAA0B,CAC7B,GAAI,KAAK,OAAL,CAAa,QAAQ,EAAR,CAAb,GAA6B,SAA7B,EAA0C,QAAQ,EAAR,EAAc,CAAd,CAAiB,CAC9D,OAAO,KAAP,CAD8D,CAA/D,CADD,OAKO,QAAQ,OAAR,GAAoB,SAApB,GAAkC,QAAQ,MAAR,GAAmB,SAAnB,EAAiC,IAAC,CAAK,OAAL,CAAa,QAAQ,KAAR,CAAb,GAAgC,QAAhC,EAA4C,KAAK,MAAL,CAAY,OAAO,mBAAP,CAA2B,QAAQ,KAAR,CAA3B,CAA0C,IAA1C,EAAZ,CAA8D,CACnL,MADmL,CAEnL,SAFmL,CAA9D,CAA5C,EAGpE,KAAK,OAAL,CAAa,QAAQ,KAAR,CAAc,IAAd,CAAb,GAAqC,SAArC,EAAkD,KAAK,OAAL,CAAa,QAAQ,KAAR,CAAc,OAAd,CAAb,GAAwC,QAAxC,EAAsD,KAAK,OAAL,CAAa,QAAQ,KAAR,CAAb,GAAgC,cAAhC,EAAkD,aAAa,OAAb,CAAqB,QAAQ,KAAR,CAAvE,CAHxG,CAZwB;;;;oEAuBL,QAAS,CACnC,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,OAAO,KAAP,CADuC,CAAxC,GAGI,QAAQ,KAAR,GAAkB,SAAlB,EAA+B,QAAQ,MAAR,GAAmB,SAAnB,EAAgC,QAAQ,EAAR,GAAe,SAAf,CAA0B,CAC5F,OAAO,KAAP,CAD4F,CAA7F,OAGO,QAAQ,OAAR,GAAoB,SAApB,EAAiC,KAAK,OAAL,CAAa,QAAQ,QAAR,CAAb,GAAmC,QAAnC,EAA+C,QAAQ,QAAR,CAAiB,MAAjB,EAA2B,KAAK,OAAL,CAAa,QAAQ,MAAR,CAAb,GAAiC,QAAjC,EAA6C,QAAQ,MAAR,CAAe,MAAf,EAAyB,KAAK,OAAL,CAAa,QAAQ,MAAR,CAAb,GAAiC,QAAjC,CAPrJ;;;;0DAed,QAAS,CAC9B,OAAO,QAAQ,cAAR,CAAuB,OAAvB,GAAmC,QAAQ,eAAR,CAAwB,OAAxB,CAAnC,EAAuE,QAAQ,mBAAR,CAA4B,OAA5B,CAAvE,CADuB;;;iDAQZ,CAClB,OAAO,EAAE,IAAF,CADW;;;sDAQC,SAAU,CAC7B,GAAI,oBAAoB,QAApB,CAA8B,CACjC,IAAI,SAAW,YAAY,SAAS,KAAT,EAAZ,CAAX,CAD6B,GAE7B,oBAAoB,MAApB,EAA8B,SAAS,EAAT,YAAuB,QAAvB,CAAiC,CAClE,SAAS,EAAT,CAAY,QAAZ,EADkE,OAElE,CAAQ,cAAR,CAAuB,SAAS,KAAT,EAAvB,EAFkE,CAAnE,CAFD,KAMO,CACN,MAAM,IAAI,KAAJ,CAAU,8CAAV,CAAN,CADM,CANP;;;0DAeqB,GAAI,CACzB,IAAI,SAAW,YAAY,EAAZ,CAAX,CADqB,GAErB,oBAAoB,MAApB,CAA4B,CAC/B,aAAa,SAAS,OAAT,CAAb,CAD+B,OAExB,YAAY,EAAZ,CAAP,CAF+B,CAAhC,YAzLI,YAmYN,OAAO,OAAP,CAAiB,OAAjB,CACA,IAAI,QAAU,QAAQ,qBAAR,CAAV,CACJ,IAAI,SAAW,QAAQ,sBAAR,CAAX,CACJ,IAAI,aAAe,QAAQ,0BAAR,CAAf,CACJ,IAAI,aAAe,QAAQ,mBAAR,CAAf,CACJ,OAAO,OAAP,CAAe,OAAf,CAAyB,OAAzB,CACA,OAAO,OAAP,CAAe,QAAf,CAA0B,QAA1B,CACA,OAAO,OAAP,CAAe,YAAf,CAA8B,YAA9B,CACA,OAAO,OAAP,CAAe,YAAf,CAA8B,YAA9B,CACA,OAAO,OAAP,CAAe,OAAf,CAAyB,SAAzB,CACA,OAAO,OAAP,CAAe,UAAf,CAA4B,SAAS,UAAT;;;;;GCzZ5B,6pBACA,IAAI,KAAO,QAAQ,MAAR,CAAP;;OAIE;;;;IAML,SANK,YAML,CAAY,OAAZ,CAAqB,IAArB,CAA2B,sBANtB,cAMsB,GACtB,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,KAAK,UAAL,CAAgB,OAAhB,EADuC,CAAxC,GAGI,KAAK,OAAL,CAAa,IAAb,IAAuB,SAAvB,CAAkC,CACrC,KAAK,OAAL,CAAa,IAAb,EADqC,CAAtC,CAJD;;;iBANK,qDAmBK,CACT,OAAO,KAAK,IAAL,CADE;;;mDAQG,CACZ,OAAO,KAAK,OAAL,CADK;;;;4CASL,KAAM,CACb,GAAI,KAAK,OAAL,CAAa,IAAb,IAAuB,SAAvB,CAAkC,CACrC,MAAM,IAAI,KAAJ,CAAU,qBAAV,CAAN,CADqC,CAAtC,IAGA,CAAK,IAAL,CAAY,IAAZ,CAJa,OAKN,IAAP,CALa;;;;kDAaH,QAAS,CACnB,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,MAAM,IAAI,KAAJ,CAAU,wBAAV,CAAN,CADuC,CAAxC,IAGA,CAAK,OAAL,CAAe,OAAf,CAJmB,OAKZ,IAAP,CALmB;;;;8CAaL,MAAO,CACrB,OAAO,iBAAiB,YAAjB,EAAkC,KAAK,OAAL,CAAa,KAAb,IAAwB,QAAxB,EAAoC,KAAK,MAAL,CAAY,OAAO,mBAAP,CAA2B,KAA3B,EAAkC,IAAlC,EAAZ,CAAsD,CACjI,MADiI,CAEjI,SAFiI,CAAtD,CAApC,EAGlC,MAAM,IAAN,YAAsB,MAAtB,EAAgC,MAAM,OAAN,YAAyB,MAAzB,CAJlB,YA9DjB;;;GAyEN,aAAa,OAAb,CAAuB,CACtB,KAAO,CAAC,CAAD,CACP,QAAU,aAAV,CAFD;;;GAQA,aAAa,iBAAb,CAAiC,CAChC,KAAO,CAAC,CAAD,CACP,QAAU,iBAAV,CAFD;;;GAQA,aAAa,qBAAb,CAAqC,CACpC,KAAO,CAAC,CAAD,CACP,QAAU,qBAAV,CAFD;;;GAQA,aAAa,kBAAb,CAAkC,CACjC,KAAO,CAAC,CAAD,CACP,QAAU,kBAAV,CAFD;;;GAQA,aAAa,gBAAb,CAAgC,CAC/B,KAAO,CAAC,CAAD,CACP,QAAU,gBAAV,CAFD;;;GAQA,aAAa,UAAb,CAA0B,CACzB,KAAO,CAAC,CAAD,CACP,QAAU,gBAAV,CAFD,CAKA,OAAO,OAAP,CAAiB,YAAjB;;;;;GC3HA,0zCACA,IAAI,KAAO,QAAQ,MAAR,CAAP,CACJ,IAAI,QAAU,QAAQ,cAAR,CAAV;;;OAKE;;IAIL,SAJK,mBAIL,CAAY,OAAZ,CAAqB,sBAJhB,qBAIgB,GAChB,UAAY,SAAZ,CAAuB,CAC1B,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,MAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN,CADuC,CAAxC,OAGA,CAAQ,OAAR,CAAkB,QAAQ,OAAR,EAAmB,QAAQ,OAAR,CAJX,OAK1B,CAAQ,QAAR,CAAmB,QAAQ,QAAR,EAAoB,YAApB,CALO,GAMtB,CAAC,QAAQ,mBAAR,CAA4B,OAA5B,CAAD,CAAuC,CAC1C,MAAM,IAAI,KAAJ,CAAU,4CAAV,CAAN,CAD0C,CAA3C,CAND,KASO,CACN,QAAU,EAAV,CADM,OAEN,CAAQ,OAAR,CAAkB,QAAQ,OAAR,CAFZ,OAGN,CAAQ,QAAR,CAAmB,YAAnB,CAHM,CATP,6DALI,+BAmBE,UAfc,CAArB;;;iBAJK,iEA0BM,QAAS,CACnB,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADmB;;yCAOZ,CACP,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADO;;;wCAQF,GAAI,CACT,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADS;;+CAOC,CACV,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADU;;;8CAQF,MAAO,CACf,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADe;;iDAOJ,CACX,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADW;;;gDAQF,OAAQ,CACjB,MAAM,IAAI,KAAJ,CAAU,sDAAV,CAAN,CADiB,YAvEb,sBAA4B,SA2ElC,OAAO,OAAP,CAAiB,mBAAjB;;;;;GClFA;;;;gzCAMA,IAAI,KAAO,QAAQ,MAAR,CAAP,CACJ,IAAI,QAAU,QAAQ,cAAR,CAAV;;;OAKE;;IAIL,SAJK,cAIL,CAAY,OAAZ,CAAqB,sBAJhB,gBAIgB,GAChB,UAAY,SAAZ,CAAuB,CAC1B,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,MAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN,CADuC,CAAxC,OAGA,CAAQ,OAAR,CAAkB,QAAQ,OAAR,EAAmB,QAAQ,OAAR,CAJX,OAK1B,CAAQ,EAAR,CAAa,QAAQ,EAAR,EAAc,QAAQ,SAAR,EAAd,CALa,OAM1B,CAAQ,QAAR,CAAmB,QAAQ,QAAR,EAAoB,YAApB,CANO,OAO1B,CAAQ,MAAR,CAAiB,QAAQ,MAAR,EAAkB,EAAlB,CAPS,GAQtB,CAAC,QAAQ,cAAR,CAAuB,OAAvB,CAAD,CAAkC,CACrC,MAAM,IAAI,KAAJ,CAAU,uCAAV,CAAN,CADqC,CAAtC,CARD,KAWO,CACN,QAAU,EAAV,CADM,OAEN,CAAQ,OAAR,CAAkB,QAAQ,OAAR,CAFZ,OAGN,CAAQ,EAAR,CAAa,QAAQ,SAAR,EAAb,CAHM,OAIN,CAAQ,QAAR,CAAmB,YAAnB,CAJM,OAKN,CAAQ,MAAR,CAAiB,QAAQ,MAAR,EAAkB,EAAlB,CALX,CAXP,6DALI,0BAuBE,UAnBc,CAArB;;;iBAJK,4DA8BM,QAAS,CACnB,MAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN,CADmB;;+CAOT,CACV,MAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN,CADU;;;8CAQF,MAAO,CACf,MAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN,CADe;;iDAOJ,CACX,MAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN,CADW;;;gDAQF,OAAQ,CACjB,MAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN,CADiB,YA5Db,iBAAuB,SAgE7B,OAAO,OAAP,CAAiB,cAAjB;;;;;GC5EA,0zCACA,IAAI,KAAO,QAAQ,MAAR,CAAP,CACJ,IAAI,QAAU,QAAQ,cAAR,CAAV;;;OAKE;;IAIL,SAJK,eAIL,CAAY,OAAZ,CAAqB,sBAJhB,iBAIgB,GAChB,UAAY,SAAZ,CAAuB,CAC1B,GAAI,KAAK,OAAL,CAAa,OAAb,IAA0B,QAA1B,CAAoC,CACvC,MAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN,CADuC,CAAxC,OAGA,CAAQ,OAAR,CAAkB,QAAQ,OAAR,EAAmB,QAAQ,OAAR,CAJX,GAKtB,CAAC,QAAQ,eAAR,CAAwB,OAAxB,CAAD,CAAmC,CACtC,MAAM,IAAI,KAAJ,CAAU,wCAAV,CAAN,CADsC,CAAvC,CALD,KAQO,CACN,QAAU,EAAV,CADM,OAEN,CAAQ,OAAR,CAAkB,QAAQ,OAAR,CAFZ,CARP,6DALI,2BAiBE,UAbc,CAArB;;;iBAJK,6DAwBM,QAAS,CACnB,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADmB;;;qDAQN,CACb,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADa;;;;oDASF,SAAU,CACrB,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADqB;;;iDAQV,CACX,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADW;;;;gDASF,OAAQ,CACjB,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADiB;;;qDAQJ,CACb,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADa;;;;;oDAUF,SAAU,IAAK,CAC1B,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CAD0B;;;iDAQf,CACX,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADW;;;;gDASF,OAAQ,CACjB,MAAM,IAAI,KAAJ,CAAU,kDAAV,CAAN,CADiB,YA7Fb,kBAAwB,SAiG9B,OAAO,OAAP,CAAiB,eAAjB","file":"JsonRpc.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nvar JsonRpc = require('./src/JsonRpc.js');\nglobal.JsonRpc = JsonRpc;console.log('asd');","","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nmodule.exports = require('./src/JSONLess.js');\n","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nvar utls = require('utls');\nvar __handlers = {};\n/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\nclass JSONLess {\n\t/**\n\t * Parse JSON string\n\t * @static\n\t * @param text\n\t * @param reviver\n\t */\n\tstatic parse(text, reviver) {\n\t\tvar value = JSON.parse(text, reviver);\n\t\tif ([\n\t\t\t\t'Array',\n\t\t\t\t'Object'\n\t\t\t].indexOf(utls.getType(value)) !== -1) {\n\t\t\tvalue = utls.traverse(value, v => [\n\t\t\t\t'Array',\n\t\t\t\t'Object'\n\t\t\t].indexOf(utls.getType(v)) !== -1, _revive);\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * Converts JavaScript value to JSON string\n\t * @static\n\t * @param value\n\t * @param replacer\n\t * @param space\n\t */\n\tstatic stringify(value, replacer, space) {\n\t\tif (utls.isCircular(value)) {\n\t\t\tthrow new TypeError('Converting circular structure to JSONLess');\n\t\t}\n\t\tif (utls.getType(value) === 'Array' || typeof value === 'object') {\n\t\t\tvalue = utls.traverse(value, v => [\n\t\t\t\t'Array',\n\t\t\t\t'Object'\n\t\t\t].indexOf(utls.getType(v)) === -1, _replace);\n\t\t}\n\t\treturn JSON.stringify(value, replacer, space)\n\t}\n\n\t/**\n\t * Adds type handler\n\t * @static\n\t * @param {*} cls\n\t * @param {Function} replacer\n\t * @param {Function} reviver\n\t */\n\tstatic addHandler(cls, replacer, reviver) {\n\t\t__handlers[utls.getType(cls)] = {\n\t\t\tcls : cls,\n\t\t\treplacer : replacer,\n\t\t\treviver : reviver\n\t\t};\n\t}\n}\n/**\n *\n * @param {*} value\n * @param {String|Number|undefined} key\n * @param {Array|Object|undefined} origin\n * @returns {*}\n * @private\n */\nfunction _replace(value, key, origin) {\n\tvar type = utls.getType(value);\n\tif (typeof __handlers[type] === 'object') {\n\t\tvalue = {\n\t\t\t$type : type,\n\t\t\t$value : __handlers[type].replacer(__handlers[type].cls, value)\n\t\t};\n\t}\n\treturn value;\n}\n/**\n *\n * @param {*} value\n * @param {String|Number|undefined} key\n * @param {Array|Object|undefined} origin\n * @returns {*}\n * @private\n */\nfunction _revive(value, key, origin) {\n\tif (utls.getType(value) === 'Array') {\n\t\tvalue.forEach((item, key) => {\n\t\t\tif ([\n\t\t\t\t\t'Array',\n\t\t\t\t\t'Object'\n\t\t\t\t].indexOf(utls.getType(item)) !== -1) {\n\t\t\t\tvalue[key] = utls.traverse(item, v => [\n\t\t\t\t\t'Array',\n\t\t\t\t\t'Object'\n\t\t\t\t].indexOf(utls.getType(v)) !== -1, _revive);\n\t\t\t} else {\n\t\t\t\tvalue[key] = item;\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (value['$type'] !== undefined && value['$value'] !== undefined) {\n\t\t\tif (typeof __handlers[value['$type']] === 'object') {\n\t\t\t\tvalue = __handlers[value['$type']].reviver(__handlers[value['$type']].cls, value['$value']);\n\t\t\t}\n\t\t} else {\n\t\t\tObject.getOwnPropertyNames(value).forEach((key) => {\n\t\t\t\tif ([\n\t\t\t\t\t\t'Array',\n\t\t\t\t\t\t'Object'\n\t\t\t\t\t].indexOf(utls.getType(value[key])) !== -1) {\n\t\t\t\t\tvalue[key] = utls.traverse(value[key], v => [\n\t\t\t\t\t\t'Array',\n\t\t\t\t\t\t'Object'\n\t\t\t\t\t].indexOf(utls.getType(v)) !== -1, _revive);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn value;\n}\n// Date\nJSONLess.addHandler(Date, (cls, value) => {\n\treturn value.toJSON();\n}, (cls, value) => {\n\treturn new cls(value);\n});\nmodule.exports = JSONLess;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\nmodule.exports = require('./src/utls.js');\n","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\n/**\n * @type {Object}\n * @private\n */\nvar __vcopy_handlers = {};\n/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\nclass utls {\n\t/**\n\t * Throws error if u try to instantiate utls class\n\t * @throws {Error}\n\t */\n\tconstructor() {\n\t\tthrow new Error('Class \"utls\" cannot be instantiated');\n\t}\n\n\t/**\n\t * Returns type of given value or name of function/object.\n\t * @param {*} value\n\t * @return {String}\n\t */\n\tstatic getType(value) {\n\t\tvar type = /\\[object ([^\\]]*)]/.exec(Object.prototype.toString.call(value))[1];\n\t\tswitch (type) {\n\t\t\tcase 'Number':\n\t\t\t\tif (value % 1 !== 0) {\n\t\t\t\t\ttype = 'Float';\n\t\t\t\t} else {\n\t\t\t\t\ttype = 'Integer';\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'Function':\n\t\t\t\ttype = value.name.length ? value.name : type;\n\t\t\t\tbreak;\n\t\t\tcase 'Object':\n\t\t\t\ttype = value.constructor.name.length ? value.constructor.name : type;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn type;\n\t}\n\n\t/**\n\t * Returns number of seconds since 1 January 1970 00:00:00 UTC.\n\t * @return {Number}\n\t */\n\tstatic microtime() {\n\t\treturn (new Date()).getTime() / 1000;\n\t}\n\n\t/**\n\t * Returns a string with the first character of string capitalized, if that character is alphabetic.\n\t * @param {String} string\n\t * @return {String}\n\t */\n\tstatic ucFirst(string) {\n\t\treturn (string || '').charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\t/**\n\t * Returns a string with the first character of string, lowercased if that character is alphabetic.\n\t * @param {String} string\n\t * @return {String}\n\t */\n\tstatic lcFirst(string) {\n\t\treturn (string || '').charAt(0).toLowerCase() + string.slice(1);\n\t}\n\n\t/**\n\t * Returns a camel-cased string. Word boundaries are \"\\b\", \"-\", \"_\", \" \"\n\t * @param {String} string\n\t * @returns {String}\n\t */\n\tstatic camelCase(string) {\n\t\treturn (string || '').toLowerCase().replace(/(-|\\s|_)./g, function (m) {\n\t\t\treturn m.toUpperCase().replace(/-|\\s|_/, '');\n\t\t});\n\t}\n\n\t/**\n\t * Returns a pascal-cased string. Word boundaries are \"\\b\", \"-\", \"_\", \" \"\n\t * @param {String} string\n\t * @returns {String}\n\t */\n\tstatic pascalCase(string) {\n\t\treturn this.ucFirst(this.camelCase(string));\n\t}\n\n\t/**\n\t * Checks whether a file or directory exists\n\t * @throws {Error}\n\t * @return {Boolean}\n\t */\n\tstatic fileExists(path) {\n\t\tif (!require('path').isAbsolute(path)) {\n\t\t\tthrow new Error(\"Path must be absolute!\");\n\t\t}\n\t\ttry {\n\t\t\tlet fs = require('fs');\n\t\t\tfs.accessSync(fs.realpathSync(path), fs.F_OK);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Makes directory\n\t * @param {String} path\n\t * @param {Options} options\n\t * @throws {Error}\n\t */\n\tstatic mkdir(path, options) {\n\t\toptions = options || {};\n\t\toptions.mode = options.mode || 0o775;\n\t\toptions.parents = options.parents || true;\n\t\tlet xpath = require('path');\n\t\tlet fs = require('fs');\n\t\tlet parts = path.split(xpath.sep);\n\t\tif(options.parents) {\n\t\t\tfor (let i = 1; i < parts.length; i++) {\n\t\t\t\tpath = parts.slice(0, i).join(xpath.sep) + xpath.sep;\n\t\t\t\tif (!utls.fileExists(path)) {\n\t\t\t\t\tfs.mkdirSync(path, options.mode);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tpath = parts.splice(0, parts.length - 1).join(xpath.sep) + xpath.sep;\n\t\t\tif (utls.fileExists(path)) {\n\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Copy properties from source to destination object\n\t * @param {Object} destination\n\t * @param {Object} source\n\t * @returns {*}\n\t */\n\tstatic extend(destination, source) {\n\t\tdestination = destination || {};\n\t\tsource = source || {};\n\t\tfor (var property in source) {\n\t\t\tif (source.hasOwnProperty(property) && source[property] && source[property].constructor && source[property].constructor === Object) {\n\t\t\t\tif (!(destination[property] && destination[property].constructor && destination[property].constructor === Object)) {\n\t\t\t\t\tdestination[property] = {};\n\t\t\t\t}\n\t\t\t\tutls.extend(destination[property], source[property]);\n\t\t\t} else {\n\t\t\t\tdestination[property] = source[property];\n\t\t\t}\n\t\t}\n\t\treturn destination;\n\t}\n\n\t/**\n\t * @param {Promise[]} promises\n\t * @param {Promise} initial\n\t * @returns {Promise}\n\t */\n\tstatic promisesWaterfall(promises, initial) {\n\t\tif (\"Promise\" !== utls.getType(initial)) {\n\t\t\tthrow new Error(\"Initial value must be Promise\");\n\t\t}\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar final = promises.reduce((prevTask, current) => {\n\t\t\t\treturn prevTask.then(current).catch(reject);\n\t\t\t}, initial);\n\t\t\tfinal.then(resolve).catch(reject);\n\t\t});\n\t}\n\n\t/**\n\t * @param {*} value\n\t * @param {Function} match\n\t * @param {Function} callback\n\t * @param {String|Number} key\n\t * @param {*} origin\n\t * @returns {*}\n\t */\n\tstatic traverse(value, match, callback, key, origin) {\n\t\tif (match(value)) {\n\t\t\treturn callback(value, key, origin);\n\t\t} else if (utls.getType(value) == 'Array') {\n\t\t\tlet arr = [];\n\t\t\tvalue.map((val, key, origin) => {\n\t\t\t\tlet res = utls.traverse(val, match, callback, key, origin);\n\t\t\t\tif (res !== undefined) {\n\t\t\t\t\tarr.push(res);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (arr.length) {\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t} else if (utls.getType(value) == 'Object') {\n\t\t\tvar obj = {};\n\t\t\tObject.getOwnPropertyNames(value).forEach((key) => {\n\t\t\t\tlet res = utls.traverse(value[key], match, callback, key, value);\n\t\t\t\tif (res !== undefined) {\n\t\t\t\t\tobj[key] = res;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (Object.getOwnPropertyNames(obj).length) {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks objects or arrays are equal\n\t *\n\t * @param {Array|Object} first\n\t * @param {Array|Object} second\n\t * @returns {Boolean}\n\t */\n\tstatic equals(first, second) {\n\t\tfunction arrays(first, second) {\n\t\t\tif (first === second) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (first.length !== second.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar length = first.length;\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tif (first[i] instanceof Array && second[i] instanceof Array) {\n\t\t\t\t\tif (!arrays(first[i], second[i])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (first[i] instanceof Object && second[i] instanceof Object) {\n\t\t\t\t\tif (!objects(first[i], second[i])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (first[i] !== second[i]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction objects(first, second) {\n\t\t\tif (first === second) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar firstProps = Object.getOwnPropertyNames(first).sort();\n\t\t\tvar firstPropsLength = firstProps.length;\n\t\t\tvar secondProps = Object.getOwnPropertyNames(second).sort();\n\t\t\tif (firstPropsLength !== secondProps.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!arrays(firstProps, secondProps)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < firstPropsLength; i++) {\n\t\t\t\tvar key = firstProps[i];\n\t\t\t\tif (first[key] instanceof Array && second[key] instanceof Array) {\n\t\t\t\t\tif (!arrays(first[key], second[key])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (first[key] instanceof Object && second[key] instanceof Object) {\n\t\t\t\t\tif (!objects(first[key], second[key])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (first[key] !== second[key]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (first instanceof Array && second instanceof Array) {\n\t\t\treturn arrays(first, second);\n\t\t} else if (first instanceof Object && second instanceof Object) {\n\t\t\treturn objects(first, second);\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Makes copy of value (dereferences object values)\n\t *\n\t * @param {*} value\n\t * @returns {*}\n\t */\n\tstatic vcopy(value) {\n\t\tvar copy;\n\t\tif (typeof value === 'object') {\n\t\t\tvar type = utls.getType(value);\n\t\t\tif (type === 'Array') {\n\t\t\t\tcopy = value.map((val) => {\n\t\t\t\t\treturn utls.vcopy(val);\n\t\t\t\t});\n\t\t\t} else if (type === 'Object') {\n\t\t\t\tcopy = {};\n\t\t\t\tObject.getOwnPropertyNames(value).forEach((key) => {\n\t\t\t\t\tcopy[key] = utls.vcopy(value[key]);\n\t\t\t\t});\n\t\t\t} else if (typeof __vcopy_handlers[type] === 'object') {\n\t\t\t\treturn __vcopy_handlers[type].handler(__vcopy_handlers[type].cls, value);\n\t\t\t} else {\n\t\t\t\tcopy = value;\n\t\t\t}\n\t\t} else {\n\t\t\tcopy = value;\n\t\t}\n\t\treturn copy;\n\t}\n\n\t/**\n\t *\n\t * @param {Array|Object} value\n\t * @returns {*}\n\t */\n\tstatic isCircular(value) {\n\t\tvar __ref = [];\n\n\t\tfunction check(value) {\n\t\t\tif (typeof value === 'object') {\n\t\t\t\tif (__ref.indexOf(value) !== -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t__ref.push(value);\n\t\t\t\tfor (var key in value) {\n\t\t\t\t\tif (value.hasOwnProperty(key) && check(value[key])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t__ref.pop();\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\treturn check(value);\n\t}\n}\n/**\n * Adds type handler\n * @param {*} cls\n * @param {Function} handler\n */\nutls.vcopy.addHandler = function vcopy_addHandler(cls, handler) {\n\t__vcopy_handlers[utls.getType(cls)] = {\n\t\tcls : cls,\n\t\thandler : handler\n\t};\n};\nutls.vcopy.addHandler(Date, (cls, value) => {\n\treturn new cls(value.getTime());\n});\nmodule.exports = utls;\n","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nvar utls = require('utls');\nvar JSONLess = require('json-less');\nvar __version = '1.1.0';\nvar __id = 0;\nvar __callbacks = {};\nvar __callbacksTimeout = 60000;\nvar __options = {autoFireCallbacks : true};\n/**\n * @abstract\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\nclass JsonRpc {\n\t/**\n\t * @param {Object} message\n\t */\n\tconstructor(message) {\n\t\tif (this.constructor === JsonRpc) {\n\t\t\tthrow new TypeError('Abstract class \"JsonRpc\" cannot be instantiated directly.');\n\t\t}\n\t\tif (message.callback !== undefined) {\n\t\t\tvar callback = message.callback;\n\t\t\tdelete message.callback;\n\t\t}\n\t\tthis.message = message;\n\t\tif (callback) {\n\t\t\tthis.setCallback(callback);\n\t\t}\n\t\tif (this.constructor === Response) {\n\t\t\tif (__options.autoFireCallbacks) {\n\t\t\t\tif (__callbacks[this.getId()] !== undefined) {\n\t\t\t\t\tJsonRpc.fireCallback(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets global options\n\t * @param {Object} options\n\t */\n\tstatic setOptions(options) {\n\t\t__options = utls.extend(__options, options);\n\t}\n\n\t/**\n\t * Gets global options\n\t * @returns {Object}\n\t */\n\tstatic getOptions() {\n\t\treturn __options;\n\t}\n\n\t/**\n\t * Gets message type\n\t * @param {Object} message\n\t * @returns {string} Posible values: request, response, notification\n\t * @throws {Error}\n\t */\n\tstatic getType(message) {\n\t\tif (!(message instanceof Object)) {\n\t\t\tthrow new Error('Message parameter must be object');\n\t\t}\n\t\tswitch (true) {\n\t\t\tcase JsonRpc.isValidRequest(message):\n\t\t\t\treturn 'request';\n\t\t\tcase JsonRpc.isValidResponse(message):\n\t\t\t\treturn 'response';\n\t\t\tcase JsonRpc.isValidNotification(message):\n\t\t\t\treturn 'notification';\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Parse message\n\t * @param {Object|String} message\n\t * @returns {JsonRpcRequest|JsonRpcResponse|JsonRpcNotification}\n\t * @throws {Error}\n\t */\n\tstatic parse(message) {\n\t\tif (utls.getType(message) !== 'Object') {\n\t\t\tif (utls.getType(message) === 'String') {\n\t\t\t\ttry {\n\t\t\t\t\tmessage = JSONLess.parse(message);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error(JsonRpcError.E_PARSE.message, JsonRpcError.E_PARSE.code);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Message must be string or object type');\n\t\t\t}\n\t\t}\n\t\tswitch (JsonRpc.getType(message)) {\n\t\t\tcase 'request':\n\t\t\t\treturn new Request(message);\n\t\t\tcase 'response':\n\t\t\t\treturn new Response(message);\n\t\t\tcase 'notification':\n\t\t\t\treturn new Notification(message);\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Unknown message type');\n\t\t}\n\t}\n\n\t/**\n\t * Checks that message is valid request\n\t * @param {Object} message\n\t * @returns {Boolean}\n\t */\n\tstatic isValidRequest(message) {\n\t\tif (utls.getType(message) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (message.error !== undefined || message.result !== undefined) {\n\t\t\treturn false;\n\t\t}\n\t\treturn message.version === __version && utls.getType(message.id) === 'Integer' && message.id > 0 && utls.getType(message.resource) === 'String' && message.resource.length && utls.getType(message.method) === 'String' && message.method.length && utls.getType(message.params) === 'Object';\n\t}\n\n\t/**\n\t * Checks that message is valid response\n\t * @param {Object} message\n\t * @returns {Boolean}\n\t */\n\tstatic isValidResponse(message) {\n\t\tif (utls.getType(message) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (message.method !== undefined || message.resource !== undefined || message.params !== undefined) {\n\t\t\treturn false;\n\t\t}\n\t\tif (message.id !== undefined) {\n\t\t\tif (utls.getType(message.id) !== 'Integer' || message.id <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn message.version === __version && (message.result !== undefined || ((utls.getType(message.error) === 'Object' && utls.equals(Object.getOwnPropertyNames(message.error).sort(), [\n\t\t\t\t'code',\n\t\t\t\t'message'\n\t\t\t]) && utls.getType(message.error.code) === 'Integer' && utls.getType(message.error.message) === 'String') || (utls.getType(message.error) === 'JsonRpcError' && JsonRpcError.isValid(message.error))));\n\t}\n\n\t/**\n\t * Checks that message is valid notification\n\t * @param {Object} message\n\t * @returns {Boolean}\n\t */\n\tstatic isValidNotification(message) {\n\t\tif (utls.getType(message) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (message.error !== undefined || message.result !== undefined || message.id !== undefined) {\n\t\t\treturn false;\n\t\t}\n\t\treturn message.version === __version && utls.getType(message.resource) === 'String' && message.resource.length && utls.getType(message.method) === 'String' && message.method.length && utls.getType(message.params) === 'Object';\n\t}\n\n\t/**\n\t * Checks that message has correct syntax\n\t * @param {Object} message\n\t * @returns {Boolean}\n\t */\n\tstatic hasValidSyntax(message) {\n\t\treturn JsonRpc.isValidRequest(message) || JsonRpc.isValidResponse(message) || JsonRpc.isValidNotification(message);\n\t}\n\n\t/**\n\t * Returns id for new request\n\t * @returns {number}\n\t */\n\tstatic getNextId() {\n\t\treturn ++__id;\n\t}\n\n\t/**\n\t * Fires callback for response if any, if callback not found do nothing\n\t * @param {JsonRpcResponse} response\n\t */\n\tstatic fireCallback(response) {\n\t\tif (response instanceof Response) {\n\t\t\tvar callback = __callbacks[response.getId()];\n\t\t\tif (callback instanceof Object && callback.cb instanceof Function) {\n\t\t\t\tcallback.cb(response);\n\t\t\t\tJsonRpc.removeCallback(response.getId());\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Response must be instance of JsonRpcResponse');\n\t\t}\n\t}\n\n\t/**\n\t * Removes registerd callback if exists\n\t * @param {Number} id\n\t */\n\tstatic removeCallback(id) {\n\t\tvar callback = __callbacks[id];\n\t\tif (callback instanceof Object) {\n\t\t\tclearTimeout(callback.timeout);\n\t\t\tdelete __callbacks[id];\n\t\t}\n\t}\n\n\t/**\n\t * Determinates is current message is request\n\t * @returns {Boolean}\n\t */\n\tget isRequest() {\n\t\treturn this instanceof Request;\n\t}\n\n\t/**\n\t * Determinates is current message is response\n\t * @returns {Boolean}\n\t */\n\tget isResponse() {\n\t\treturn this instanceof Response;\n\t}\n\n\t/**\n\t * Determinates is current message is notification\n\t * @returns {Boolean}\n\t */\n\tget isNotification() {\n\t\treturn this instanceof Notification;\n\t}\n\n\t/**\n\t * Gets messeage schema version\n\t * @returns {String}\n\t */\n\tgetVersion() {\n\t\treturn this.message.version;\n\t}\n\n\t/**\n\t * Sets messeage schema version\n\t * @param {String} version\n\t */\n\tsetVersion(version) {\n\t\tthis.message.version = version;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage id\n\t * @returns {Number}\n\t */\n\tgetId() {\n\t\treturn this.message.id;\n\t}\n\n\t/**\n\t * Sets messeage id\n\t * @param {Number} id\n\t * @returns {JsonRpc}\n\t */\n\tsetId(id) {\n\t\tthis.message.id = parseInt(id, 10);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage resource for method\n\t * @returns {String}\n\t */\n\tgetResource() {\n\t\treturn this.message.resource;\n\t}\n\n\t/**\n\t * Sets messeage resource for method\n\t * @param {String} resource\n\t * @returns {JsonRpc}\n\t */\n\tsetResource(resource) {\n\t\tthis.message.resource = resource;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage method\n\t * @returns {String}\n\t */\n\tgetMethod() {\n\t\treturn this.message.method;\n\t}\n\n\t/**\n\t * Sets messeage method\n\t * @param {String} method\n\t * @returns {JsonRpc}\n\t */\n\tsetMethod(method) {\n\t\tthis.message.method = method;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage callback\n\t * @returns {Function|undefined}\n\t */\n\tgetCallback() {\n\t\treturn __callbacks[this.message.id] ? __callbacks[this.message.id].cb : undefined;\n\t}\n\n\t/**\n\t * Sets messeage callback\n\t * @param {Function} callback Callback to be fired when got response\n\t * @param {Number} tls Time in ms how long keep uncalled callback\n\t * @returns {JsonRpc}\n\t */\n\tsetCallback(callback, tls) {\n\t\ttls = tls || __callbacksTimeout;\n\t\tvar self = this;\n\t\tvar timeout = setTimeout(() => {\n\t\t\tJsonRpc.removeCallback(self.message.id)\n\t\t}, tls);\n\t\t__callbacks[this.message.id] = {\n\t\t\tcb : callback,\n\t\t\ttimeout : timeout\n\t\t};\n\t\t//console.log(__callbacks);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage parameters for method\n\t * @returns {Object}\n\t */\n\tgetParams() {\n\t\treturn this.message.params;\n\t}\n\n\t/**\n\t * Sets messeage parameters for method\n\t * @param {Object} params\n\t * @returns {JsonRpc}\n\t */\n\tsetParams(params) {\n\t\tthis.message.params = params;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage result\n\t * @returns {*}\n\t */\n\tgetResult() {\n\t\treturn this.message.result;\n\t}\n\n\t/**\n\t * Sets messeage result\n\t * @param {*} result\n\t * @returns {JsonRpc}\n\t */\n\tsetResult(result) {\n\t\tthis.message.result = result;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets messeage Error\n\t * @returns {JsonRpcError}\n\t */\n\tgetError() {\n\t\treturn this.message.error;\n\t}\n\n\t/**\n\t * Sets messeage\n\t * @param {JsonRpcError|Object} error\n\t * @returns {JsonRpc}\n\t */\n\tsetError(error) {\n\t\tif (!(error instanceof JsonRpcError)) {\n\t\t\terror = new JsonRpcError(error);\n\t\t}\n\t\tthis.message.error = error;\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @returns {{version: *, id: *, resource: *, method: *, params: *, callback: *}}\n\t */\n\ttoJSON() {\n\t\treturn this.message;\n\t}\n\n\t/**\n\t *\n\t * @returns {String}\n\t */\n\ttoString() {\n\t\treturn JSONLess.stringify(this.toJSON());\n\t}\n}\nmodule.exports = JsonRpc;\nvar Request = require('./JsonRpcRequest.js');\nvar Response = require('./JsonRpcResponse.js');\nvar Notification = require('./JsonRpcNotification.js');\nvar JsonRpcError = require('./JsonRpcError.js');\nmodule.exports.Request = Request;\nmodule.exports.Response = Response;\nmodule.exports.Notification = Notification;\nmodule.exports.JsonRpcError = JsonRpcError;\nmodule.exports.version = __version;\nmodule.exports.addHandler = JSONLess.addHandler;\n","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nvar utls = require('utls');\n/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\nclass JsonRpcError {\n\t/**\n\t *\n\t * @param message\n\t * @param code\n\t */\n\tconstructor(message, code) {\n\t\tif (utls.getType(message) === 'String') {\n\t\t\tthis.setMessage(message);\n\t\t}\n\t\tif (utls.getType(code) === 'Integer') {\n\t\t\tthis.setCode(code);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {Number}\n\t */\n\tgetCode() {\n\t\treturn this.code;\n\t}\n\n\t/**\n\t *\n\t * @returns {String}\n\t */\n\tgetMessage() {\n\t\treturn this.message;\n\t}\n\n\t/**\n\t *\n\t * @param code\n\t * @returns {JsonRpcError}\n\t */\n\tsetCode(code) {\n\t\tif (utls.getType(code) !== 'Integer') {\n\t\t\tthrow new Error('Code must be number');\n\t\t}\n\t\tthis.code = code;\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @param message\n\t * @returns {JsonRpcError}\n\t */\n\tsetMessage(message) {\n\t\tif (utls.getType(message) !== 'String') {\n\t\t\tthrow new Error('Message must be string');\n\t\t}\n\t\tthis.message = message;\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @param error\n\t * @returns {Boolean}\n\t */\n\tstatic isValid(error) {\n\t\treturn error instanceof JsonRpcError || (utls.getType(error) === 'Object' && utls.equals(Object.getOwnPropertyNames(error).sort(), [\n\t\t\t\t'code',\n\t\t\t\t'message'\n\t\t\t]) && error.code instanceof Number && error.message instanceof String);\n\t}\n}\n/**\n * Parse error\n * @type {{code: number, message: string}}\n */\nJsonRpcError.E_PARSE = {\n\tcode : -1,\n\tmessage : 'Parse error'\n};\n/**\n * Invalid Request\n * @type {{code: number, message: string}}\n */\nJsonRpcError.E_INVALID_REQUEST = {\n\tcode : -2,\n\tmessage : 'Invalid Request'\n};\n/**\n * Namespace not found\n * @type {{code: number, message: string}}\n */\nJsonRpcError.E_NAMESPACE_NOT_FOUND = {\n\tcode : -3,\n\tmessage : 'Namespace not found'\n};\n/**\n * Method not found\n * @type {{code: number, message: string}}\n */\nJsonRpcError.E_METHOD_NOT_FOUND = {\n\tcode : -4,\n\tmessage : 'Method not found'\n};\n/**\n * Invalid params\n * @type {{code: number, message: string}}\n */\nJsonRpcError.E_INVALID_PARAMS = {\n\tcode : -5,\n\tmessage : 'Invalid params'\n};\n/**\n * Internal error\n * @type {{code: number, message: string}}\n */\nJsonRpcError.E_INTERNAL = {\n\tcode : -6,\n\tmessage : 'Internal error'\n};\n\nmodule.exports = JsonRpcError;\n","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nvar utls = require('utls');\nvar JsonRpc = require('./JsonRpc.js')\n/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n * @extends JsonRpc\n */\nclass JsonRpcNotification extends JsonRpc {\n\t/**\n\t * @param {Object} message\n\t */\n\tconstructor(message) {\n\t\tif (message !== undefined) {\n\t\t\tif (utls.getType(message) !== 'Object') {\n\t\t\t\tthrow new Error('Message must be object type');\n\t\t\t}\n\t\t\tmessage.version = message.version || JsonRpc.version;\n\t\t\tmessage.resource = message.resource || '__global__';\n\t\t\tif (!JsonRpc.isValidNotification(message)) {\n\t\t\t\tthrow new Error('Message is not valid json rpc notification');\n\t\t\t}\n\t\t} else {\n\t\t\tmessage = {};\n\t\t\tmessage.version = JsonRpc.version;\n\t\t\tmessage.resource = '__global__';\n\t\t}\n\t\tsuper(message);\n\t}\n\n\t/**\n\t * @private\n\t * @param version\n\t */\n\tsetVersion(version) {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetId() {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param id\n\t */\n\tsetId(id) {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetError() {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param error\n\t */\n\tsetError(error) {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetResult() {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param result\n\t */\n\tsetResult(result) {\n\t\tthrow new Error('Method not available in module \"JsonRpcNotification\"');\n\t}\n}\nmodule.exports = JsonRpcNotification;","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\n/**\n * Global request counter\n * @type {number}\n * @private\n */\nvar utls = require('utls');\nvar JsonRpc = require('./JsonRpc.js')\n/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n * @extends JsonRpc\n */\nclass JsonRpcRequest extends JsonRpc {\n\t/**\n\t * @param {Object} message\n\t */\n\tconstructor(message) {\n\t\tif (message !== undefined) {\n\t\t\tif (utls.getType(message) !== 'Object') {\n\t\t\t\tthrow new Error('Message must be object type');\n\t\t\t}\n\t\t\tmessage.version = message.version || JsonRpc.version;\n\t\t\tmessage.id = message.id || JsonRpc.getNextId();\n\t\t\tmessage.resource = message.resource || '__global__';\n\t\t\tmessage.params = message.params || {};\n\t\t\tif (!JsonRpc.isValidRequest(message)) {\n\t\t\t\tthrow new Error('Message is not valid json rpc request');\n\t\t\t}\n\t\t} else {\n\t\t\tmessage = {};\n\t\t\tmessage.version = JsonRpc.version;\n\t\t\tmessage.id = JsonRpc.getNextId();\n\t\t\tmessage.resource = '__global__';\n\t\t\tmessage.params = message.params || {};\n\t\t}\n\t\tsuper(message);\n\t}\n\n\t/**\n\t * @private\n\t * @param version\n\t */\n\tsetVersion(version) {\n\t\tthrow new Error('Method not available in module \"JsonRpcRequest\"');\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetError() {\n\t\tthrow new Error('Method not available in module \"JsonRpcRequest\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param error\n\t */\n\tsetError(error) {\n\t\tthrow new Error('Method not available in module \"JsonRpcRequest\"');\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetResult() {\n\t\tthrow new Error('Method not available in module \"JsonRpcRequest\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param result\n\t */\n\tsetResult(result) {\n\t\tthrow new Error('Method not available in module \"JsonRpcRequest\"');\n\t}\n}\nmodule.exports = JsonRpcRequest;\n","/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n */\n\"use strict\";\nvar utls = require('utls');\nvar JsonRpc = require('./JsonRpc.js');\n/**\n * @author Michał Żaloudik <michal.zaloudik@redcart.pl>\n * @extends JsonRpc\n */\nclass JsonRpcResponse extends JsonRpc {\n\t/**\n\t * @param {Object} message\n\t */\n\tconstructor(message) {\n\t\tif (message !== undefined) {\n\t\t\tif (utls.getType(message) !== 'Object') {\n\t\t\t\tthrow new Error('Message must be object type');\n\t\t\t}\n\t\t\tmessage.version = message.version || JsonRpc.version;\n\t\t\tif (!JsonRpc.isValidResponse(message)) {\n\t\t\t\tthrow new Error('Message is not valid json rpc response');\n\t\t\t}\n\t\t} else {\n\t\t\tmessage = {};\n\t\t\tmessage.version = JsonRpc.version;\n\t\t}\n\t\tsuper(message);\n\t}\n\n\t/**\n\t * @private\n\t * @param version\n\t */\n\tsetVersion(version) {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @returns {*}\n\t */\n\tgetResource() {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param resource\n\t * @returns {JsonRpc}\n\t */\n\tsetResource(resource) {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @returns {*}\n\t */\n\tgetMethod() {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param method\n\t * @returns {JsonRpc}\n\t */\n\tsetMethod(method) {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @returns {*}\n\t */\n\tgetCallback() {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param {Function} callback\n\t * @param {Number} tls\n\t * @returns {JsonRpc}\n\t */\n\tsetCallback(callback, tls) {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @returns {*}\n\t */\n\tgetParams() {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n\n\t/**\n\t * @private\n\t * @param params\n\t * @returns {JsonRpc}\n\t */\n\tsetParams(params) {\n\t\tthrow new Error('Method not available in module \"JsonRpcResponse\"');\n\t}\n}\nmodule.exports = JsonRpcResponse;\n"]}